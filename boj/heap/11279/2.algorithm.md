# ì•Œê³ ë¦¬ì¦˜: ìµœëŒ€ í™ (Max Heap)

> ğŸ“– **ì „ì²´ ì•Œê³ ë¦¬ì¦˜ ì„¤ëª…**: [í™(Heap) ì •ë¦¬](../heap.md)

ì´ ë¬¸ì œëŠ” **ìµœëŒ€ í™(Max Heap)** ìë£Œêµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ì—¬ í•´ê²°í•©ë‹ˆë‹¤.  
ìƒìœ„ í´ë”ì˜ [í™ ì •ë¦¬ ë¬¸ì„œ](../heap.md)ì—ì„œ ì•Œê³ ë¦¬ì¦˜ì˜ ì „ì²´ ì´ë¡ ê³¼ ê°œë…ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ì´ ë¬¸ì œì—ì„œì˜ í™ ì ìš©

### ë¬¸ì œ íŠ¹ì„±

* **ìµœëŒ€ í™ ì—°ì‚°**: ìì—°ìˆ˜ ì¶”ê°€(push)ì™€ ìµœëŒ“ê°’ ì œê±°(pop)
* **ë¹ˆ í™ ì²˜ë¦¬**: í™ì´ ë¹„ì–´ìˆì„ ë•Œ pop ì—°ì‚° ì‹œ 0 ì¶œë ¥
* **ì œì•½ ì¡°ê±´**: `1 â‰¤ N â‰¤ 100,000` (ìµœëŒ€ 100,000ë²ˆì˜ ì—°ì‚°)

---

## ì´ ë¬¸ì œì˜ íŠ¹ì´ì‚¬í•­

### 1ï¸âƒ£ ìµœëŒ€ í™ vs ìµœì†Œ í™

Javaì˜ `PriorityQueue`ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ **ìµœì†Œ í™(Min Heap)**ì´ë‹¤:

* ìµœì†Œ í™: ë£¨íŠ¸ ë…¸ë“œê°€ ìµœì†Ÿê°’
* ìµœëŒ€ í™: ë£¨íŠ¸ ë…¸ë“œê°€ ìµœëŒ“ê°’ â† **ì´ ë¬¸ì œì—ì„œ í•„ìš”í•œ ê²ƒ**

â¡ï¸ **`Comparator.reverseOrder()`ë¥¼ ì‚¬ìš©í•˜ì—¬ ìµœëŒ€ í™ìœ¼ë¡œ ë³€í™˜**í•´ì•¼ í•œë‹¤.

### 2ï¸âƒ£ ë¹ˆ í™ ì²˜ë¦¬

í™ì´ ë¹„ì–´ìˆì„ ë•Œ `poll()` ì—°ì‚°ì„ ìˆ˜í–‰í•˜ë©´:

* `PriorityQueue.poll()`ì€ `null`ì„ ë°˜í™˜
* ë¬¸ì œ ìš”êµ¬ì‚¬í•­: 0ì„ ì¶œë ¥í•´ì•¼ í•¨

â¡ï¸ **`isEmpty()` ì²´í¬ í›„ ì¡°ê±´ë¶€ ì²˜ë¦¬**ê°€ í•„ìš”í•˜ë‹¤.

### 3ï¸âƒ£ ì‹œê°„ ë³µì¡ë„

* **push ì—°ì‚°**: O(log N) - í™ì˜ ë†’ì´ë§Œí¼ ë¹„êµ ë° êµí™˜
* **pop ì—°ì‚°**: O(log N) - ë£¨íŠ¸ ì œê±° í›„ ì¬êµ¬ì„±
* **ì „ì²´ ì‹œê°„ ë³µì¡ë„**: O(N log N) - Në²ˆì˜ ì—°ì‚°

ì œì•½ ì¡°ê±´ `N â‰¤ 100,000`ìœ¼ë¡œ ì¸í•´ O(N log N) ì‹œê°„ ë³µì¡ë„ë¡œ ì¶©ë¶„íˆ ì²˜ë¦¬ ê°€ëŠ¥í•˜ë‹¤.

### 4ï¸âƒ£ ê³µê°„ ë³µì¡ë„

* **í™ ì €ì¥ ê³µê°„**: O(N) - ìµœëŒ€ Nê°œì˜ ì›ì†Œ ì €ì¥
* **ì „ì²´ ê³µê°„ ë³µì¡ë„**: **O(N)**

---

## í•µì‹¬ êµ¬í˜„ íŒ¨í„´

ì´ ë¬¸ì œì— íŠ¹í™”ëœ í™ êµ¬í˜„:

### ë°©ë²• 1: Java PriorityQueue ì‚¬ìš© (ê¶Œì¥)

```java
PriorityQueue<Integer> maxHeap = new PriorityQueue<>(Comparator.reverseOrder());

// ìì—°ìˆ˜ ì…ë ¥
if (x > 0) {
    maxHeap.offer(x);
}
// 0 ì…ë ¥
else {
    if (maxHeap.isEmpty()) {
        System.out.println(0);
    } else {
        System.out.println(maxHeap.poll());
    }
}
```

### ë°©ë²• 2: ë°°ì—´ ê¸°ë°˜ ì§ì ‘ êµ¬í˜„

```java
class MaxHeap {
    private List<Integer> heap;
    
    public MaxHeap() {
        heap = new ArrayList<>();
    }
    
    public void push(int x) {
        heap.add(x);
        int idx = heap.size() - 1;
        
        // Up-Heap: ë¶€ëª¨ ë…¸ë“œì™€ ë¹„êµí•˜ì—¬ ìœ„ë¡œ ì˜¬ë¦¬ê¸°
        while (idx > 0) {
            int parent = (idx - 1) / 2;
            if (heap.get(parent) >= heap.get(idx)) break;
            
            swap(parent, idx);
            idx = parent;
        }
    }
    
    public int pop() {
        if (heap.isEmpty()) return 0;
        
        int root = heap.get(0);
        heap.set(0, heap.get(heap.size() - 1));
        heap.remove(heap.size() - 1);
        
        if (!heap.isEmpty()) {
            downHeap(0);
        }
        
        return root;
    }
    
    private void downHeap(int idx) {
        while (true) {
            int left = 2 * idx + 1;
            int right = 2 * idx + 2;
            int largest = idx;
            
            if (left < heap.size() && heap.get(left) > heap.get(largest)) {
                largest = left;
            }
            if (right < heap.size() && heap.get(right) > heap.get(largest)) {
                largest = right;
            }
            
            if (largest == idx) break;
            
            swap(idx, largest);
            idx = largest;
        }
    }
    
    private void swap(int i, int j) {
        int temp = heap.get(i);
        heap.set(i, heap.get(j));
        heap.set(j, temp);
    }
}
```

---

## ë‹¤ë¥¸ í™ ë¬¸ì œì™€ì˜ ì°¨ì´ì 

| íŠ¹ì§• | ìµœì†Œ í™ ë¬¸ì œ (1927) | ì´ ë¬¸ì œ (11279) |
|------|-------------------|----------------|
| í™ ì¢…ë¥˜ | ìµœì†Œ í™ | ìµœëŒ€ í™ |
| Comparator | ê¸°ë³¸ (ë˜ëŠ” ì—†ìŒ) | `reverseOrder()` í•„ìš” |
| ë£¨íŠ¸ ê°’ | ìµœì†Ÿê°’ | ìµœëŒ“ê°’ |
| êµ¬í˜„ ë³µì¡ë„ | ë‚®ìŒ | ë‚®ìŒ (Comparatorë§Œ ì¶”ê°€) |

---

## ì°¸ê³ 

* ì „ì²´ í™ ì•Œê³ ë¦¬ì¦˜ ì„¤ëª…: [../heap.md](../heap.md)
* ë¬¸ì œ ë¶„ì„: [1.analysis.md](./1.analysis.md)
* ì•Œê³ ë¦¬ì¦˜ ì ìš© ê·¼ê±°: [3.reasoning.md](./3.reasoning.md)

