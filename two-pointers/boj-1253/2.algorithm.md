# μ•κ³ λ¦¬μ¦: μ •λ ¬ + ν¬ ν¬μΈν„°λ¥Ό ν™μ©ν• λ‘ μμ ν•© μ°ΎκΈ°

> π“– **μ „μ²΄ μ•κ³ λ¦¬μ¦ μ„¤λ…**: [ν¬ ν¬μΈν„° μ•κ³ λ¦¬μ¦ μ •λ¦¬](../two-pointers.md)

μ΄ λ¬Έμ λ” **ν¬ ν¬μΈν„° μ•κ³ λ¦¬μ¦(Two Pointers Algorithm)**μ„ μ‚¬μ©ν•μ—¬ ν•΄κ²°ν•©λ‹λ‹¤.  
μƒμ„ ν΄λ”μ [ν¬ ν¬μΈν„° μ•κ³ λ¦¬μ¦ μ •λ¦¬ λ¬Έμ„](../two-pointers.md)μ—μ„ μ•κ³ λ¦¬μ¦μ μ „μ²΄ μ΄λ΅ κ³Ό κ°λ…μ„ ν™•μΈν•  μ μμµλ‹λ‹¤.

---

## ν•µμ‹¬ μ•„μ΄λ””μ–΄

κ° μ `target`μ— λ€ν•΄ `target = a + b`λ¥Ό λ§μ΅±ν•λ” μ„λ΅ λ‹¤λ¥Έ μ„μΉμ λ‘ μ `a`, `b`κ°€ μ΅΄μ¬ν•λ”μ§€ ν™•μΈν•©λ‹λ‹¤.

μ •λ ¬ ν›„ κ° μμ— λ€ν•΄ ν¬ ν¬μΈν„°λ΅ λ‘ μμ ν•©μ„ μ°Ύλ” λ°©λ²•μ…λ‹λ‹¤. μ •λ ¬ μ „ μΈλ±μ¤ μ •λ³΄λ¥Ό λ³΄μ΅΄ν•κΈ° μ„ν•΄ (κ°’, μ›λ μΈλ±μ¤) μμ„ μ €μ¥ν•κ³ , κ°’ κΈ°μ¤€μΌλ΅ μ •λ ¬ν• ν›„ ν¬ ν¬μΈν„°λ΅ νƒμƒ‰ν•©λ‹λ‹¤.

### 1λ‹¨κ³„: (κ°’, μ›λ μΈλ±μ¤) μμ„ μ €μ¥ν•κ³  μ •λ ¬

μ •λ ¬ ν›„μ—λ„ μ›λ μΈλ±μ¤λ¥Ό μ¶”μ ν•κΈ° μ„ν•΄ Pair ν΄λμ¤λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤.

```java
class Pair {
    long value;
    int originalIdx;
}

Pair[] pairs = new Pair[N];
for (int i = 0; i < N; i++) {
    pairs[i] = new Pair(arr[i], i);
}
Arrays.sort(pairs, (a, b) -> Long.compare(a.value, b.value));
```

### 2λ‹¨κ³„: κ° μμ— λ€ν•΄ ν¬ ν¬μΈν„°λ΅ ν™•μΈ

κ° μμ— λ€ν•΄ ν¬ ν¬μΈν„°λ΅ λ‘ μμ ν•©μ΄ ν•΄λ‹Ή μμ™€ κ°™μ€μ§€ ν™•μΈν•©λ‹λ‹¤. μκΈ° μμ‹ μ„ μ μ™Έν•κΈ° μ„ν•΄ μ›λ μΈλ±μ¤λ¥Ό ν™•μΈν•©λ‹λ‹¤.

```java
for (int i = 0; i < N; i++) {
    long target = pairs[i].value;
    int targetIdx = pairs[i].originalIdx;
    
    int left = 0, right = N - 1;
    while (left < right) {
        // μκΈ° μμ‹  μ μ™Έ
        if (left == i) { left++; continue; }
        if (right == i) { right--; continue; }
        
        long sum = pairs[left].value + pairs[right].value;
        if (sum == target) {
            // μ›λ μΈλ±μ¤κ°€ μκΈ° μμ‹ μ΄ μ•„λ‹μ§€ ν™•μΈ
            if (pairs[left].originalIdx != targetIdx && 
                pairs[right].originalIdx != targetIdx) {
                // μΆ‹μ€ μ!
                break;
            }
        } else if (sum < target) {
            left++;
        } else {
            right--;
        }
    }
}
```


## μ‹κ°„ λ³µμ΅λ„

**μ „μ²΄ μ‹κ°„ λ³µμ΅λ„: `O(NΒ² log N)`**

- μ •λ ¬: O(N log N)
- κ° μμ— λ€ν•΄ ν¬ ν¬μΈν„°: O(N) Γ— N = O(NΒ²)
- μ „μ²΄: O(NΒ² log N)

**BOJ 1253 μ μ•½ μ΅°κ±΄ (N β‰¤ 2,000, μ‹κ°„ μ ν•: 2μ΄):**
- μ—°μ‚° νμ: μ•½ 2,000Β² Γ— log(2,000) β‰ 2.4 Γ— 10β·
- μμƒ μ‹¤ν–‰ μ‹κ°„: 0.24μ΄ (μ‹κ°„ μ ν• λ‚΄ μ¶©λ¶„)

## κ³µκ°„ λ³µμ΅λ„

**μ „μ²΄ κ³µκ°„ λ³µμ΅λ„: `O(N)`**

- Pair λ°°μ—΄: O(N)
- μ…λ ¥ λ°°μ—΄: O(N)

**BOJ 1253 μ μ•½ μ΅°κ±΄ (N β‰¤ 2,000, λ©”λ¨λ¦¬ μ ν•: 256 MB):**

**λ©”λ¨λ¦¬ μ‚¬μ©λ‰ κ³„μ‚°:**

1. **Pair κ°μ²΄ λ©”λ¨λ¦¬:**
   - κ°μ²΄ ν—¤λ”: 12 bytes
   - long value: 8 bytes
   - int originalIdx: 4 bytes
   - **μ΄: 24 bytes per Pair**

2. **μ‹¤μ  λ©”λ¨λ¦¬ μ‚¬μ©λ‰ (N = 2,000):**
   - Pair λ°°μ—΄: 2,000 Γ— 24 bytes = 48,000 bytes β‰ 47 KB
   - μ…λ ¥ λ°°μ—΄: 2,000 Γ— 8 bytes = 16,000 bytes β‰ 16 KB
   - κΈ°νƒ€ λ³€μ λ° μ¤νƒ: μ•½ 10 KB
   - **μ΄ν•©: μ•½ 73 KB**

**κ²°λ΅ :**
- λ©”λ¨λ¦¬ μ ν• 256 MB λ€λΉ„ μ‚¬μ©λ¥ : 73 KB / 256 MB β‰ 0.03%
- λ©”λ¨λ¦¬ μ ν• λ‚΄μ—μ„ μ¶©λ¶„ν μ—¬μ  μμ β…

