# Main.java 설계 근거 정리

이 문서는 **BOJ 1916 최소비용 구하기 문제**에 대한 최종 해답 코드인 `Main.java`의 설계 근거를 설명합니다.

> 📖 **구현 코드**: [2.algorithm.md](./2.algorithm.md)에서 확인할 수 있습니다.

---

## 1️⃣ 알고리즘 선택 근거

### 문제 특성

* **가중치 있는 방향 그래프**: 각 버스마다 비용이 다름
* **음수 가중치 없음**: 버스 비용이 0 이상
* **단일 시작점 → 단일 목표점**: 시작 도시에서 목표 도시까지의 최단 거리만 필요

➡️ 이러한 조건을 만족하는 알고리즘은 **다익스트라 알고리즘**입니다.

### 다른 알고리즘과의 비교

| 알고리즘 | 사용 불가 이유 |
|---------|--------------|
| **BFS** | 가중치가 있는 그래프에서 최단 경로 보장 불가 |
| **벨만-포드** | 음수 가중치가 없으므로 불필요 (O(V × E) > O((V + E) log V)) |
| **플로이드-워셜** | 모든 정점 쌍의 거리가 불필요 (O(V³) > O((V + E) log V)) |

---

## 2️⃣ 코드 설계 원칙

### 핵심 설계 결정

1. **인접 리스트 사용**: 도시 수가 많지 않지만 간선이 많을 수 있으므로 인접 리스트가 효율적
2. **우선순위 큐 사용**: 거리가 가장 작은 도시부터 처리하기 위해 필요
3. **방문 체크 배열**: 같은 도시가 여러 번 큐에 들어갈 수 있으므로 필수
4. **조기 종료**: 목표 도시에 도달하면 즉시 반환하여 불필요한 탐색 방지

### 다익스트라 알고리즘 원칙과의 대응

| 설계 결정 | 다익스트라 알고리즘 원칙 |
|----------|----------------------|
| `dist[start] = 0` | 시작점 거리 초기화 |
| `PriorityQueue` | 거리가 가장 작은 정점부터 선택 (그리디) |
| `visited[city]` | 이미 처리된 정점 건너뛰기 (중복 방지) |
| `dist[next] > distance + cost` | 더 짧은 경로 발견 시 업데이트 |
| `city == end` | 목표 정점 도달 시 조기 종료 |

---

## 3️⃣ 시간/공간 복잡도

### 시간 복잡도: O((N + M) log N)

* **그래프 구성**: O(M)
* **다익스트라 수행**: O((N + M) log N)
  * 각 도시 처리: O(N) × O(log N) = O(N log N)
  * 각 버스 확인: O(M) × O(log N) = O(M log N)
* **전체**: O((N + M) log N)

**제약 조건**: N ≤ 1,000, M ≤ 100,000
- 최악의 경우: (1,000 + 100,000) × log(1,000) ≈ 1,010,000 연산
- 충분히 빠르게 처리 가능

### 공간 복잡도: O(N + M)

* **그래프 저장**: O(N + M)
* **거리 배열**: O(N)
* **방문 배열**: O(N)
* **우선순위 큐**: O(N)

---

## 4️⃣ 최적화 기법

### 1. 목표 도시 도달 시 조기 종료

* 목표 도시에 도달하면 즉시 반환
* 불필요한 탐색을 줄여 성능 향상

### 2. 방문 체크로 중복 처리 방지

* 같은 도시가 여러 번 큐에 들어갈 수 있으므로 필수
* 이미 처리된 도시는 건너뛰어 중복 처리 방지

---

## 5️⃣ 다익스트라의 최단 경로 보장

### 그리디 선택 속성

* 매 순간 거리가 가장 작은 도시를 선택
* 음수 가중치가 없으면 이 선택이 항상 최적

### 최적 부분 구조

* 시작점에서 목표 정점까지의 최단 경로는 중간 정점들의 최단 경로로 구성
* 각 도시까지의 최단 거리를 점진적으로 업데이트하여 최종적으로 최단 경로 보장

---

## 참고

* 전체 다익스트라 알고리즘 설명: [../dijkstra.md](../dijkstra.md)
* 문제 분석: [1.analysis.md](./1.analysis.md)
* 알고리즘 적용 및 구현 코드: [2.algorithm.md](./2.algorithm.md)
