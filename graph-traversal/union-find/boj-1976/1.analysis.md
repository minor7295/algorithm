# 여행 가자

## 📌 문제 요약

N개의 도시가 있고, 도시 간 연결 정보가 주어졌을 때, 주어진 여행 계획이 가능한지 판별하는 문제입니다. 같은 도시를 여러 번 방문할 수 있고, 중간에 다른 도시를 경유해서 여행할 수 있습니다.

---

## 🔍 문제 설명

* **도시의 개수**: N (N ≤ 200)
* **여행 계획에 속한 도시의 개수**: M (M ≤ 1,000)
* **도시 간 연결 정보**: 인접 행렬로 주어짐 (1이면 연결, 0이면 미연결)
* **양방향 그래프**: A와 B가 연결되어 있으면 B와 A도 연결되어 있음
* **여행 계획**: M개의 도시 번호가 순서대로 주어짐
* **같은 도시 여러 번 방문 가능**: 여행 계획에서 같은 도시가 여러 번 나올 수 있음
* **경유 가능**: 직접 연결되지 않은 도시도 중간 도시를 경유해서 갈 수 있음

---

## 📥 입력 조건

* 첫째 줄에 도시의 수 N
* 둘째 줄에 여행 계획에 속한 도시들의 수 M
* 다음 N개의 줄에는 N개의 정수가 주어짐 (인접 행렬)
  * i번째 줄의 j번째 수는 i번 도시와 j번 도시의 연결 정보
  * 1이면 연결된 것, 0이면 연결되지 않은 것
* 마지막 줄에는 여행 계획이 주어짐 (M개의 도시 번호)
* 도시의 번호는 1부터 N까지

---

## 📤 출력 조건

* 여행 계획이 가능하면 **YES**, 불가능하면 **NO** 출력

---

## 💡 문제 핵심 해석

이 문제는 **그래프 연결성(Connectivity)** 문제입니다.

### 핵심 아이디어

1. **연결 요소**: 같은 연결 요소에 속한 도시들은 서로 도달 가능
2. **여행 가능 조건**: 여행 계획의 연속된 두 도시가 같은 연결 요소에 속해 있어야 함
3. **경유 가능**: 직접 연결되지 않아도 중간 도시를 경유해서 갈 수 있음

> **핵심**: 여행 계획의 연속된 두 도시가 **같은 연결 요소(Connected Component)**에 속해 있는지 확인하는 문제입니다.

---

## ✨ 예시

### 예시 1: 문제에서 제공한 예시

**입력**
```
3
3
0 1 0
1 0 1
0 1 0
1 2 3
```

**그래프 구조**
```
1 -- 2 -- 3
```

**여행 계획**: 1 → 2 → 3

**분석**
* 1과 2는 같은 연결 요소에 속함 ✓
* 2와 3은 같은 연결 요소에 속함 ✓
* 모든 연속된 두 도시가 같은 연결 요소에 속함

**출력**
```
YES
```

### 예시 2: 경유가 필요한 경우

**입력**
```
4
3
0 1 0 0
1 0 1 0
0 1 0 1
0 0 1 0
1 3 4
```

**그래프 구조**
```
1 -- 2 -- 3 -- 4
```

**여행 계획**: 1 → 3 → 4

**분석**
* 1과 3은 직접 연결되지 않았지만, 1 → 2 → 3 경로로 도달 가능 ✓
* 3과 4는 직접 연결되어 있음 ✓
* 모든 연속된 두 도시가 같은 연결 요소에 속함

**출력**
```
YES
```

### 예시 3: 불가능한 경우

**입력**
```
4
3
0 1 0 0
1 0 0 0
0 0 0 1
0 0 1 0
1 2 3
```

**그래프 구조**
```
1 -- 2    3 -- 4
```

**여행 계획**: 1 → 2 → 3

**분석**
* 1과 2는 같은 연결 요소에 속함 ✓
* 2와 3은 다른 연결 요소에 속함 ✗
* 2에서 3으로 갈 수 없음

**출력**
```
NO
```

---

## 📝 정리

이 문제는 **그래프 연결성 문제**로, 여행 계획의 연속된 두 도시가 같은 연결 요소에 속해 있는지 확인하는 문제입니다.
