# 신고 결과 받기

## 📌 문제 요약

신입사원 무지가 게시판 불량 이용자를 신고하고 처리 결과를 메일로 발송하는 시스템을 개발하려 합니다.

각 유저는 다른 유저를 신고할 수 있으며, **k번 이상 신고된 유저는 게시판 이용이 정지**됩니다. 정지된 유저를 신고한 모든 유저에게 정지 사실을 메일로 발송합니다.

**목표**: 각 유저별로 처리 결과 메일을 받은 횟수를 배열에 담아 반환

---

## 🔍 문제 설명

### 핵심 규칙

1. **신고 제한**: 각 유저는 한 번에 한 명의 유저를 신고할 수 있음
2. **신고 횟수 제한 없음**: 서로 다른 유저를 계속해서 신고 가능
3. **중복 신고 처리**: 한 유저를 여러 번 신고할 수도 있지만, **동일한 유저에 대한 신고 횟수는 1회로 처리**
4. **정지 기준**: k번 이상 신고된 유저는 게시판 이용이 정지됨
5. **메일 발송**: 정지된 유저를 신고한 모든 유저에게 정지 사실을 메일로 발송
6. **일괄 처리**: 유저가 신고한 모든 내용을 취합하여 마지막에 한꺼번에 게시판 이용 정지를 시키면서 정지 메일을 발송

### 예시 설명

**입력**:
- `id_list = ["muzi", "frodo", "apeach", "neo"]`
- `report = ["muzi frodo", "apeach frodo", "frodo neo", "muzi neo", "apeach muzi"]`
- `k = 2`

**처리 과정**:

1. **중복 신고 제거** (이미 중복 없음)
   - "muzi"가 "frodo" 신고
   - "apeach"가 "frodo" 신고
   - "frodo"가 "neo" 신고
   - "muzi"가 "neo" 신고
   - "apeach"가 "muzi" 신고

2. **신고당한 횟수 카운트**:
   - "muzi": 1회 (apeach가 신고)
   - "frodo": 2회 (muzi, apeach가 신고)
   - "apeach": 0회
   - "neo": 2회 (frodo, muzi가 신고)

3. **정지된 유저 확인** (k=2 이상):
   - "frodo": 2회 ≥ 2 → 정지 ✅
   - "neo": 2회 ≥ 2 → 정지 ✅

4. **각 유저가 신고한 유저 중 정지된 유저 확인**:
   - "muzi": ["frodo", "neo"] → 정지된 유저: ["frodo", "neo"] → 메일 2회
   - "frodo": ["neo"] → 정지된 유저: ["neo"] → 메일 1회
   - "apeach": ["frodo", "muzi"] → 정지된 유저: ["frodo"] → 메일 1회
   - "neo": [] → 정지된 유저: [] → 메일 0회

**출력**: `[2, 1, 1, 0]`

---

## 📥 입력 조건

* `id_list`: 이용자의 ID가 담긴 문자열 배열
  * 길이: 2 이상 1,000 이하
  * 각 원소 길이: 1 이상 10 이하
  * 알파벳 소문자로만 이루어짐
  * 같은 아이디가 중복되어 들어있지 않음

* `report`: 각 이용자가 신고한 이용자의 ID 정보가 담긴 문자열 배열
  * 길이: 1 이상 200,000 이하
  * 각 원소 길이: 3 이상 21 이하
  * 형식: "이용자id 신고한id" (공백 하나로 구분)
  * 알파벳 소문자로만 이루어짐
  * 자기 자신을 신고하는 경우는 없음

* `k`: 정지 기준이 되는 신고 횟수
  * 1 이상 200 이하의 자연수

---

## 📤 출력 조건

* 각 유저별로 처리 결과 메일을 받은 횟수를 배열에 담아 반환
* `id_list`에 담긴 id 순서대로 각 유저가 받은 결과 메일 수를 담음
* 배열 형태: `[메일 수, 메일 수, ...]`

---

## 💡 문제 핵심 해석

이 문제는 **해시맵(HashMap)과 집합(Set)을 활용한 구현 문제**입니다.

### 핵심 조건

1. **중복 신고 제거**: 같은 유저가 같은 유저를 여러 번 신고해도 1회로 처리
   - 해결: `Set<String>`을 사용하여 중복 제거
   - 예: "muzi frodo"가 여러 번 나와도 1회만 처리

2. **신고 횟수 카운트**: 각 유저가 신고당한 횟수를 세어야 함
   - 해결: `Map<String, Integer>`를 사용하여 카운트
   - 예: "frodo"가 2번 신고당함 → `reportCount.put("frodo", 2)`

3. **정지된 유저 확인**: k번 이상 신고된 유저를 찾아야 함
   - 해결: 신고 횟수 맵을 순회하며 k 이상인 유저를 `Set<String>`에 저장
   - 예: k=2일 때, "frodo"(2회), "neo"(2회) → 정지

4. **메일 수 계산**: 각 유저가 신고한 유저 중 정지된 유저의 수를 세어야 함
   - 해결: 각 유저별로 신고한 유저 목록을 `Map<String, Set<String>>`에 저장
   - 정지된 유저 집합과 교집합하여 개수 계산

### 해시맵 접근 가능성

이 문제는 **해시맵과 집합을 활용**하여 해결할 수 있습니다:

* **중복 제거**: `Set<String>`으로 중복 신고 제거
* **카운팅**: `Map<String, Integer>`로 신고 횟수 카운트
* **그룹핑**: `Map<String, Set<String>>`로 유저별 신고한 유저 목록 저장
* **빠른 조회**: 해시맵의 O(1) 평균 시간 복잡도로 효율적 처리

예를 들어, `id_list = ["muzi", "frodo", "apeach", "neo"]`, `report = ["muzi frodo", "apeach frodo", "frodo neo", "muzi neo", "apeach muzi"]`, `k = 2`인 경우:

**단계별 처리**:
```
1. 중복 신고 제거 (Set 사용)
   uniqueReports = {"muzi frodo", "apeach frodo", "frodo neo", "muzi neo", "apeach muzi"}

2. 신고 횟수 카운트 (Map 사용)
   reportCount = {
     "muzi": 1,
     "frodo": 2,
     "apeach": 0,
     "neo": 2
   }

3. 정지된 유저 확인 (Set 사용)
   bannedUsers = {"frodo", "neo"}  // 2회 이상 신고당한 유저

4. 유저별 신고한 유저 목록 저장 (Map 사용)
   userReports = {
     "muzi": {"frodo", "neo"},
     "frodo": {"neo"},
     "apeach": {"frodo", "muzi"},
     "neo": {}
   }

5. 메일 수 계산
   answer = [2, 1, 1, 0]
   - "muzi": {"frodo", "neo"} ∩ {"frodo", "neo"} = 2개
   - "frodo": {"neo"} ∩ {"frodo", "neo"} = 1개
   - "apeach": {"frodo", "muzi"} ∩ {"frodo", "neo"} = 1개
   - "neo": {} ∩ {"frodo", "neo"} = 0개
```

➡️ **해시맵과 집합을 활용하여 각 단계를 효율적으로 처리**할 수 있습니다.

---

## 🧠 해결 전략 개요

1. **중복 신고 제거**: `Set<String>`을 사용하여 중복 신고 제거
2. **신고 횟수 카운트**: `Map<String, Integer>`를 사용하여 각 유저가 신고당한 횟수 카운트
3. **정지된 유저 확인**: 신고 횟수가 k 이상인 유저를 `Set<String>`에 저장
4. **유저별 신고한 유저 목록 저장**: `Map<String, Set<String>>`를 사용하여 각 유저가 신고한 유저 목록 저장
5. **메일 수 계산**: 각 유저가 신고한 유저 목록과 정지된 유저 집합의 교집합 개수 계산
6. **결과 반환**: `id_list` 순서대로 메일 수를 배열에 담아 반환

---

## ✨ 예시

### 예시 1: 문제에서 제공한 예제

**입력**
```
id_list = ["muzi", "frodo", "apeach", "neo"]
report = ["muzi frodo", "apeach frodo", "frodo neo", "muzi neo", "apeach muzi"]
k = 2
```

**처리 과정**

1. **중복 신고 제거**:
   ```
   uniqueReports = {"muzi frodo", "apeach frodo", "frodo neo", "muzi neo", "apeach muzi"}
   ```

2. **신고 횟수 카운트**:
   ```
   reportCount = {
     "muzi": 1,
     "frodo": 2,
     "apeach": 0,
     "neo": 2
   }
   ```

3. **정지된 유저 확인** (k=2):
   ```
   bannedUsers = {"frodo", "neo"}  // 2회 이상 신고당한 유저
   ```

4. **유저별 신고한 유저 목록 저장**:
   ```
   userReports = {
     "muzi": {"frodo", "neo"},
     "frodo": {"neo"},
     "apeach": {"frodo", "muzi"},
     "neo": {}
   }
   ```

5. **메일 수 계산**:
   ```
   "muzi": {"frodo", "neo"} ∩ {"frodo", "neo"} = 2개
   "frodo": {"neo"} ∩ {"frodo", "neo"} = 1개
   "apeach": {"frodo", "muzi"} ∩ {"frodo", "neo"} = 1개
   "neo": {} ∩ {"frodo", "neo"} = 0개
   ```

**출력**
```
[2, 1, 1, 0]
```

### 예시 2: 중복 신고가 있는 경우

**입력**
```
id_list = ["con", "ryan"]
report = ["ryan con", "ryan con", "ryan con", "ryan con"]
k = 3
```

**처리 과정**

1. **중복 신고 제거**:
   ```
   uniqueReports = {"ryan con"}  // 중복 제거됨
   ```

2. **신고 횟수 카운트**:
   ```
   reportCount = {
     "con": 1,  // 4번 신고했지만 1회로 처리
     "ryan": 0
   }
   ```

3. **정지된 유저 확인** (k=3):
   ```
   bannedUsers = {}  // 3회 이상 신고당한 유저 없음
   ```

4. **유저별 신고한 유저 목록 저장**:
   ```
   userReports = {
     "con": {},
     "ryan": {"con"}
   }
   ```

5. **메일 수 계산**:
   ```
   "con": {} ∩ {} = 0개
   "ryan": {"con"} ∩ {} = 0개
   ```

**출력**
```
[0, 0]
```

### 예시 3: 모든 유저가 정지되는 경우

**입력**
```
id_list = ["a", "b", "c"]
report = ["a b", "a c", "b a", "b c", "c a", "c b"]
k = 1
```

**처리 과정**

1. **중복 신고 제거**:
   ```
   uniqueReports = {"a b", "a c", "b a", "b c", "c a", "c b"}
   ```

2. **신고 횟수 카운트**:
   ```
   reportCount = {
     "a": 2,
     "b": 2,
     "c": 2
   }
   ```

3. **정지된 유저 확인** (k=1):
   ```
   bannedUsers = {"a", "b", "c"}  // 모두 1회 이상 신고당함
   ```

4. **유저별 신고한 유저 목록 저장**:
   ```
   userReports = {
     "a": {"b", "c"},
     "b": {"a", "c"},
     "c": {"a", "b"}
   }
   ```

5. **메일 수 계산**:
   ```
   "a": {"b", "c"} ∩ {"a", "b", "c"} = 2개
   "b": {"a", "c"} ∩ {"a", "b", "c"} = 2개
   "c": {"a", "b"} ∩ {"a", "b", "c"} = 2개
   ```

**출력**
```
[2, 2, 2]
```

---

## 📝 정리

이 문제는 **해시맵과 집합을 활용한 구현 문제**입니다.

* **핵심 조건**: 중복 신고 제거, 신고 횟수 카운트, 정지된 유저 확인, 메일 수 계산
* **전략**: Set으로 중복 제거, Map으로 카운팅 및 그룹핑, Set으로 정지된 유저 관리
* **시간 복잡도**: O(R) - report 배열 길이에 비례
* **공간 복잡도**: O(N + R) - 유저 수와 신고 수에 비례

